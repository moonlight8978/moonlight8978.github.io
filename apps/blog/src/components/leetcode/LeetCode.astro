---
import { Code } from "astro-expressive-code/components";

const files = import.meta.glob("../../content/leetcode/*.rb", { as: "raw" });

// Create an array to store the file data
const solutions = await Promise.all(
  Object.entries(files).map(async ([path, importFunc]) => {
    const content = await importFunc();
    // Extract filename from path
    const filename = path.split("/").pop();
    return { filename, content };
  })
);
---

{
  solutions.map((solution) => (
    <Code code={solution.content} lang="ruby" title={solution.filename} />
  ))
}
